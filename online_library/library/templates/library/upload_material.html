{% extends 'library/base.html' %}

{% block content %}
<h2>Upload Material</h2>

{% if messages %}
    {% for message in messages %}
        <p style="color: green;">{{ message }}</p>
    {% endfor %}
{% endif %}

<form method="POST" enctype="multipart/form-data" class="upload-form">
    {% csrf_token %}
    
    <label for="id_title">Title:</label>
    {{ form.title }}

    <label for="id_description">Description:</label>
    {{ form.description }}

    <label for="id_category">Category:</label>
    {{ form.category }}

    <label for="id_file">Upload File:</label>
    {{ form.file }}
    <p id="file-name"></p>

    <button type="submit">Upload</button>
</form>

<script>
    document.getElementById("id_file").addEventListener("change", function() {
        var fileName = this.files[0] ? this.files[0].name : "No file selected";
        document.getElementById("file-name").innerText = "Selected file: " + fileName;
    });
</script>

{% endblock %}
